{%extends display.question%}




{%block pageContent%}
{%if questionList%}
<div class="cbox mB20">

  {%for key, value in questionList%}
  <a href="{{url.this}}/question?id={{requestGET.id}}&questionid={{value.id}}">
    <div class="msg">#{{(key + 1) | fitNumber}}<br>
      {%if value.title%}<b>{{value.title}}</b>{%endif%}
      {%if value.desc%}<b>{%if value.title%} | <small>{{value.desc}}</small>{%else%}{{value.desc}}{%endif%}</b>{%endif%}
      {%if not value.title and not value.desc%}<i>{%trans "Untitled"%}</i>{%endif%}
      <br>
      {%if value.type%}<b>{{value.type_detail.title}}</b>{%endif%}
    </div>
  </a>
  {%endfor%}

</div>
{%elseif dataTable and not showChart%}

  {{block('htmlTable')}}

{%else%}
   <div class="chart x4 mB20" id="chartdiv" >
   </div>

  {{block('htmlTableRow')}}
{%endif%}

{%endblock%}



{%block foot_js%}
{%if showChart%}
<script type="text/javascript">
  {%include 'content_a/report/question/chart.js'%}
</script>
{%endif%}
{%endblock%}





{%block htmlTableRow%}


  <table class="tbl1 v1 cbox fs12 ">
    <thead class="primary fs09">
      <tr>
        <th data-sort='{{sortLink.answer.order}}'><a href="{{sortLink.answer.link}}">{%trans "Answer"%} <small>{%trans "Click to sort"%}</small></a> </th>
        <th data-sort='{{sortLink.value.order}}'><a href="{{sortLink.value.link}}">{%trans "Count"%} <small>{%trans "Click to sort"%}</small></a></th>
        {%if false%}<th data-sort='{{sortLink.value_all.order}}'><a href="{{sortLink.value_all.link}}">{%trans "Incomplete survey"%}</a></th>{%endif%}
      </tr>
    </thead>
    <tbody>
      {%for key, value in tableRow.categories%}
      <tr>
          <td>{{value}}</td>
          <td>{{tableRow['value'][key] | fitNumber}}</td>
          {%if false%}<td>{{tableRow['value_all'][key] | fitNumber}}</td>{%endif%}
      </tr>
      {%endfor%}

    </tbody>
  </table>
  {%include display.pagination%}

{%endblock%}


{%block htmlTable%}


  <table class="tbl1 v1 cbox fs12">
    <thead class="primary fs09">
      <tr>

      	<th>{%trans "Answers"%}</th>
      </tr>
    </thead>

    <tbody>
      {%for key, value in dataTable%}
      <tr>
      	<td>{{value.text}}</td>
      </tr>
      {%endfor%}
    </tbody>
  </table>
  {%include display.pagination%}

{%endblock%}
