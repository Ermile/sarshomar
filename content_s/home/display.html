{%extends display.dash%}


{%block pageContent%}
{%if surveyRow.status != 'publish'%}
<a href="{{url.kingdom}}/a/survey/status?id={{surveyRow.id}}" data-direct class="msg warn block fs14 txtC">{%trans "Survey status"%} {%set myStatus = surveyRow.status%} <b>{%trans myStatus%}</b></a>
{%endif%}

{%if step.display == 'welcome' or step.display == 'thankyou' or step.display == 'thankyoudefault' or step.display == 'start'%}
	<div class="cbox">
		{{block(step.display)}}
	</div>
{%else%}
	<div class="f justify-center">
		<div class="cbox c6 m12 s11">
			<form method="post" autocomplete="off">
				{{block(step.display)}}
			</form>
		</div>
	</div>
{%endif%}
{%endblock%}





{%block hidden_input%}

<input type="hidden" name="survay" value="" class="hide">

<div class="hide">
	<input type="text" name="userprocode" value="">
</div>


<div class="hide">
	<input type="text" name="{{XKEY}}" value="{{XVALUE}}">
</div>

<div class="input c auto hide">
	<input type="password" name="passwd" value="">
</div>

<input type="text" name="id" value="" class="input hide">


{%endblock%}



{%block start%}
<div class="justify-center f pA10">
<div class="msg primary2 block c12 txtC txtB">{{surveyRow.title}}</div>
	{{block('start_btn')}}
</div>
{%endblock%}


{%block thankyoudefault%}
<h3>{%trans "Thank you"%}</h3>
<div class="justify-center f pA10">
	<a href="{{url.base}}" class="btn success c3">{%trans "Sarshomar"%}</a>
</div>

{%endblock%}


{%block thankyou%}

<div class="msg primary2">{{surveyRow.thankyoutitle}}</div>

{%if surveyRow.thankyoudesc %}
<div class="msg">
	<p>{{surveyRow.thankyoudesc}}</p>
</div>
{%endif%}

{%if surveyRow.thankyoumedia.file %}
	<img src="{{surveyRow.thankyoumedia.file}}" class="w300">
{%endif%}
<div class="justify-center f pA10">

</div>

{%endblock%}


{%block welcome%}

<div class="msg primary2">{{surveyRow.welcometitle}}</div>

{%if surveyRow.welcomedesc %}
<div class="msg">
	<p>{{surveyRow.welcomedesc}}</p>
</div>
{%endif%}

{%if surveyRow.welcomemedia.file %}
	<img src="{{surveyRow.welcomemedia.file}}" class="w300">
{%endif%}
<div class="justify-center f pA10">
	{{block('start_btn')}}
</div>

{%endblock%}



{%block nextBtn%}
<div class="f justify-center">
	<button class="c9 s12 m12 btn success  mT20">{%trans "Save & Next"%}</button>
	<button name="skip" value="skip" class="c2 s12 m12 btn block mR10 outline mT20">{%trans "Skip"%}</button>
</div>
{{block('next_back')}}
{%endblock%}



{%block next_back%}
<div class="f justify-center mT5">
	{%if requestGET.step > 1 %}
		<a href="{{url.this}}?step={{(requestGET.step) - 1}}"  class="c2 m12 s12 btn info2 mR5 outline mT20">{%trans "Back"%}</a>
	{%endif%}
	{%if step.end > requestGET.step and step.must > requestGET.step%}
		<a href="{{url.this}}?step={{(requestGET.step) + 1}}"  class="c2 m12 s12 btn info2 mR5 outline mT20">{%trans "Next"%}</a>
	{%endif%}
</div>
{%endblock%}



{%block question_title%}
<div class="msg primary2"><b>{{question.title}}</b></div>

{%if question.desc %}
<div class="msg">
	<p>{{question.desc}}</p>
</div>
{%endif%}

{%if question.media.file %}
	<img src="{{question.media.file}}" class="w300">
{%endif%}

{%endblock%}



{%block start_btn%}
<a href="{{url.pwd}}" data-ajaxify data-data='{"start" : "survey", "{{XKEY}}":"{{XVALUE}}" }' data-method='post' class="btn c3 hauto xl primary ">{%trans "Start"%}</a>
{%endblock%}




{%block short_answer%}
{{block('question_title')}}
{{block('hidden_input')}}
	<div class="input">
		<label for="answer">{%trans "Type your answer"%}</label>
		<input type="text" id="answer" name="answer" value="{{myAnswer.text}}" placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}

{%endblock%}



{%block descriptive_answer%}
{{block('hidden_input')}}
{{block('question_title')}}
	<label for="answer">{%trans "Type your answer"%}</label>
	<textarea class="txt" type="text" id="answer" name="answer" placeholder='{%trans "Type here ..."%}' rows="3">{{myAnswer.text}}</textarea>
	{{block('nextBtn')}}
{%endblock%}




{%block confirm%}
{{block('question_title')}}
{{block('hidden_input')}}
	<input type="hidden" name="next" value="step">
	{{block('nextBtn')}}
{%endblock%}


{%block require%}
 <small class="fc-red">* {%trans "Require"%}</small>
{%endblock%}



{%block date%}
{{block('question_title')}}
{{block('hidden_input')}}
	<label for="answer">{%trans "Answer"%}</label>
	<div class="input">
	  <input class="datepicker" type="text" name="answer" id="answer" placeholder='{{"1369/04/15" | fitNumber}} *' value="{{myAnswer.text}}" maxlength='20' data-format="YYYY/MM/DD" data-view="year">
	</div>
	{{block('nextBtn')}}
{%endblock%}



{%block email%}
{{block('question_title')}}
{{block('hidden_input')}}
	<label for="answer">{%trans "Answer"%}</label>
	<div class="input">
	  <input class="" type="email" name="answer" id="answer" value="{{myAnswer.text}}"  placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}
{%endblock%}

{%block website%}
{{block('question_title')}}
{{block('hidden_input')}}
	<label for="answer">{%trans "Answer"%}</label>
	<div class="input">
	  <input class="" type="url" name="answer" id="answer" value="{{myAnswer.text}}"  placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}
{%endblock%}



{%block rating%}
{{block('question_title')}}
{{block('hidden_input')}}
	<label for="answer">{%trans "Answer"%}</label>
	<div class="input">
	  <input class="" type="number" name="answer" id="answer" value="{{myAnswer.text}}" placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}
{%endblock%}


{%block star%}
{{block('question_title')}}
{{block('hidden_input')}}

	<label for="answer">{%trans "Answer"%}</label>
	<div class="input">
	  <input class="" type="number" name="answer" id="answer"  value="{{myAnswer.text}}" placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}
{%endblock%}





{%block single_choice%}
{{block('question_title')}}
{{block('hidden_input')}}
	{%for key, value in question.choice%}
	 <div class="radio1 green">
	  <input type="radio" id="r-{{key}}" name="answer" value="{{value.title}}" {%if myAnswer.text == value.title%} checked {%endif%} >
	  <label for="r-{{key}}">{{value.title}}</label>
	 </div>
	{%endfor%}
	{{block('nextBtn')}}
{%endblock%}



{%block multiple_choice%}
{{block('question_title')}}
{{block('hidden_input')}}
	{%for key, value in question.choice%}
	 <div class="check1 mB10">
	 <input type="checkbox" name="answer[]" id="{{key}}" value="{{value.title}}" {%if myAnswer.text == value.title%} checked {%endif%}>
	 <label for="{{key}}">{{value.title}}</label>
	</div>
	{%endfor%}
	{{block('nextBtn')}}

{%endblock%}




{%block dropdown%}
{{block('question_title')}}
{{block('hidden_input')}}
	<div class="mB10">
	  <label for="answer">{%trans "Your answer"%}</label>
	  <select name="answer" class="ui dropdown select">
	    <option value=""><i>{%trans "Please select one item"%}</i></option>
		{%for key, value in question.choice%}
	      <option value="{{value.title}}"  {%if myAnswer.text == value.title%} checked {%endif%}>{{value.title}}</option>
	    {%endfor%}
	  </select>
	</div>
	{{block('nextBtn')}}
{%endblock%}




{%block numeric%}
{{block('question_title')}}
{{block('hidden_input')}}
	<div class="input">
		<label for="answer">{%trans "Type your answer"%}</label>
		<input type="number" id="answer" name="answer" value="{{myAnswer.text}}" placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}
{%endblock%}






{%block short_text%}
{{block('question_title')}}
<div class="justify-center f pA10">
	<div class="input">
		<label for="answer">{%trans "Type your answer"%}</label>
		<input type="text" id="answer" name="answer" value="{{myAnswer.text}}" placeholder='{%trans "Type here ..."%}'>
	</div>
	{{block('nextBtn')}}
</div>
{%endblock%}






{%block sidenav%}

	<li class="detail">
		<span class="fc-mute">{%trans "Start Time"%}</span> <span class="floatRa mRa10 fc-mute">{{askDetail.start_time | fitNumber}}</span>
	</li>
	<li class="detail">
		<span class="fc-mute">{%trans "Spend Time"%}</span> <span class="floatRa mRa10 fc-mute">{{askDetail.spend_time | fitNumber}}</span>
	</li>
{%if false%}
	<li class="detail">
		<span class="fc-mute">{%trans "Remain Time"%}</span> <span class="floatRa mRa10 fc-mute">{{askDetail.remain_time | fitNumber}}</span>
	</li>
{%endif%}
{%if false%}
	<li class="detail">
		<span class="fc-mute">{%trans "End Time"%}</span> <span class="floatRa mRa10 fc-mute">{{askDetail.end_time | fitNumber}}</span>
	</li>
{%endif%}
<hr>
<li class="detail">
	<span class="fc-mute">{%trans "Current question"%}</span> <span class="floatRa mRa10 fc-mute">{{requestGET.step | fitNumber}}</span>
</li>
<li class="detail">
	<span class="fc-mute">{%trans "Total questions"%}</span> <span class="floatRa mRa10 fc-mute">{{surveyRow.countblock | fitNumber}}</span>
</li>
<li class="detail">
	<span class="floatRa mRa10">{{askDetail.completed | fitNumber}} %</span> <span>{%trans "Completed"%}</span>
</li>

<li class="detail">
	<div class="progress" data-percent="{{askDetail.completed}}"><div class="bar"></div></div>
</li>

{%if false%}
<li class="detail">
	<a href="{{url.this}}/restart" class="btn warn hauto outline">{%trans "Restart"%}</a>
</li>
{%endif%}

{%endblock%}
